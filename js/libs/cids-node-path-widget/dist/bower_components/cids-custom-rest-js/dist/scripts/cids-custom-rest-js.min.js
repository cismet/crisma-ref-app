angular.module("de.cismet.cids.rest.collidngNames.Nodes",["ngResource"]).factory("de.cismet.collidingNameService.Nodes",["$resource","CRISMA_ICMM_API","CRISMA_DOMAIN",function(a,b,c){"use strict";var d,e,f,g;return e=function(a){var b,c;return c=function(a){var c;return b=this,c=f.children({nodeId:b.key},a),c.$promise},a.icon="fa fa-globe",a.getChildren=c,a.link=a.objectKey,a.icon=a.leaf?"fa fa-globe":"fa fa-folder-o",a.isLeaf=a.leaf,a},d=function(a){var b,c,d=JSON.parse(a).$collection,f=[];for(b=0;b<d.length;++b)"-1"!==d[b].key&&(c=d[b],f.push(e(c)));return f},f=a(b+"/nodes",{nodeId:"@id",domain:c},{get:{method:"GET",params:{deduplicate:!0},url:b+"/nodes/"+c+".:nodeId",transformResponse:function(a){if(!a)return null;var b=JSON.parse(a);return e(b)}},query:{method:"GET",isArray:!0,transformResponse:function(a){return d(a)}},children:{method:"GET",isArray:!0,params:{level:2},url:b+"/nodes/"+c+".:nodeId/children",transformResponse:function(a){return d(a)}},scenarios:{method:"GET",isArray:!0,params:{deduplicate:!0},url:b+"/nodes/"+c+".-1/children",transformResponse:function(a){return d(a)}}}),g={getRequestIdForWorldstate:function(a){for(var b=a.parentworldstate,c=[a.id];b.parentworldstate;)c.push(b.id),b=b.parentworldstate;return c.push(b.id),c.reverse().join(".")},getRequestIdForNodeKey:function(a){return a}},f.utils=g,f}]);